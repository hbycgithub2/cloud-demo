
算费服务测试类
public class CalculateServiceTest {


 线程池配置属性类

核心线程数
最大线程数
队列容量
线程空闲时间
线程名称前缀


CompletableFuture怎么用的5句说下
// 1. 异步执行有返回值
CompletableFuture<String> future = CompletableFuture.supplyAsync(() -> "结果", executor);

// 2. 异步执行无返回值
CompletableFuture.runAsync(() -> System.out.println("执行"), executor);

// 3. 等待所有完成
CompletableFuture.allOf(future1, future2, future3).join();

// 4. 获取结果
String result = future.get();

// 5. 异常处理
future.exceptionally(ex -> "默认值");


5. 一句话总结
CompletableFuture能替代95%的Thread使用场景（业务异步任务），但5%的特殊场景（守护线程、中断、独立后台任务）还是要用Thread。

实际开发：

业务代码 → CompletableFuture（并行查询、异步调用）
基础设施 → Thread（监控、定时清理、守护线程）

什么是守户线程
守护线程 = 陪跑的，主线程走了它就停
核心原则：辅助性任务用守护线程，主业务任务用用户线程




什么是本地线程
每个线程有自己的ThreadLocalMap，key是ThreadLocal对象，value是存的值

一句话：ThreadLocal = 线程的私有变量，各存各的，互不干扰
用途：存储当前登录用户、数据库连接、链路追踪ID








     * 
     * 该类用于配置线程池的各项参数，包括核心线程数、最大线程数、队列容量等。
     * 通过Spring Boot的@ConfigurationProperties注解，可以从配置文件中读取相应的配置值。
     * 
     * 配置项说明：
     * - corePoolSize: 线程池的核心线程数，即使线程处于空闲状态也会保持的线程数量
     * - maxPoolSize: 线程池允许的最大线程数，当队列满时会创建新线程直到达到此数量
     * - queueCapacity: 任务队列的容量，用于存储等待执行的任务
     * - keepAliveSeconds: 非核心线程的空闲存活时间，超过此时间的空闲线程将被回收
     * - threadNamePrefix: 线程名称的前缀，便于在日志中识别和调试