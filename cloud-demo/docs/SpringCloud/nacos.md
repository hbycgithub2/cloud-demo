Nacos是什么：

Nacos让微服务自动注册发现（无需写死IP）、配置统一管理（修改秒级生效），解决服务调用、紧急关闭功能、多环境配置、灰度发布、服务扩容等实际问题。

1. 服务注册与发现
微服务启动时注册到Nacos，其他服务通过Nacos发现并调用。
2. 配置管理
统一管理所有微服务的配置文件，修改配置实时生效，不用重启。




1、 服务注册与发现

1 springboot启动时自动将nacos注册到nacos server，在bootstrap里配置的：服务端口、服务名称、nacos地址
2  直接就可以在nacos控制台服务列表里看到服务启动后都在服务列表里了
3  生产者和消费者都注册到nacos上，实现服务发现
4 每个服务发送心跳给nacos server，告诉自己还活着



nacos动态修改配置：
场景1：修改数据库连接池大小
问题：生产环境数据库连接不够，频繁超时
解决：动态调整连接池大小，不用重启服务

场景2：开关功能
问题：新功能上线后发现Bug，需要紧急关闭
解决：动态修改开关配置，立即关闭功能



准备阶段：Nacos控制台创建配置文件（user-service.yml），SpringBoot配置bootstrap.yml指定Nacos地址和服务名
启动阶段：服务启动时用 服务名.后缀 拼接Data ID,服务启动时从Nacos拉取配置，代码用@Value读取配置值，@RefreshScope标记Bean支持刷新


服务启动时用 服务名.后缀 拼接Data ID找至nacos控制台配置的.yaml文件





